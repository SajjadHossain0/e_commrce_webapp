<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>E-commerce</title>
    <style th:insert="~{base :: styles}"></style>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f4f8;
        }

        .profile-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 800px;
            margin: 0 auto;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .card {
            background-color: #fff;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            width: 100%;
            display: flex;
            align-items: center;
        }

        .card h2 {
            margin-bottom: 10px;
            color: #4a4a4a;
        }

        .card-icon {
            font-size: 48px;
            color: #4CAF50;
            margin-right: 20px;
        }

        .order-list ul, .settings-list {
            list-style-type: none;
            padding: 0;
        }

        .order-list ul li, .settings-list li {
            background-color: #f0f4f8;
            margin: 10px 0;
            padding: 10px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            font-size: 16px;
        }

        .order-list ul li i, .settings-list li i {
            font-size: 20px;
            margin-right: 15px;
            color: #FF5722;
        }

        /* Colorful backgrounds */
        .name-address-card {
            background-image: linear-gradient(135deg, #6e45e2 0%, #88d3ce 100%);
            color: white;
        }

        .name-address-card h2 {
            color: #fff;
        }

        .name-address-card p {
            color: rgba(255, 255, 255, 0.8);
        }

        .order-list-card {
            background-color: #ffeb3b;
        }

        .settings-card {
            background-color: #4caf50;
            color: white;
        }

        .settings-card a {
            text-decoration: none;
            color: #fff;
            font-weight: bold;
        }

        .settings-card a:hover {
            color: #ffc107;
        }

    </style>
</head>
<body>
<!--@@@ Contact section-->
<section th:insert="~{base :: contact}"></section>
<!--@@@ Contact section close-->

<!--@@@ Navbar section-->
<section th:insert="~{base :: navbar}"></section>
<!--@@@ Navbar section close-->

<div class="container">
    <div class="container" style="text-align: center; font-size: 40px"><h2>Welcome, <span
            th:text="${user.first_name}"></span></h2></div>

    <!--Your details-->
    <div style="margin: 20px">
        <div class="row" style="background-color: #4CAF50; padding: 10px">
            <div class="col-md-6" style="text-align: left"><span style="font-size: 25px">Your details</span></div>
            <div class="col-md-6" style="text-align: right">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
                     class="bi bi-info-circle" viewBox="0 0 16 16">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                    <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
                </svg>
            </div>
        </div>

        <div class="row" style="background-color: #ffffff; padding: 10px">
            <div>Email : <span th:text="${user.email}"></span></div>
            <div>Address : <span th:text="${user.address}"></span></div>
            <div>City : <span th:text="${user.city}"></span></div>
            <div>State : <span th:text="${user.state}"></span></div>
            <div>Zip : <span th:text="${user.zip}"></span></div>
            <div>Country : <span th:text="${user.country}"></span></div>
            <div>Phone Number : <span th:text="${user.phone_number}"></span></div>
        </div>
    </div>

    <!--Orders-->
    <div style="margin: 20px">
        <div class="row" style="background-color: #f6d813; padding: 10px">
            <div class="col-md-6" style="text-align: left"><span style="font-size: 25px">Orders</span></div>
            <div class="col-md-6" style="text-align: right">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-archive"
                     viewBox="0 0 16 16">
                    <path d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5zm13-3H1v2h14zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"/>
                </svg>
            </div>
        </div>

        <div class="row" style="background-color: #ffffff; padding: 10px">
            <div class="col-md-6" style="text-align: left"><span style="font-size: 25px"><a
                    style="text-decoration: none" href="#">View your orders</a></span></div>
            <div class="col-md-6" style="text-align: right">
                <span style="font-size: 25px">0</span>
            </div>
        </div>
    </div>

    <!--Settings-->
    <div style="margin: 20px">
        <div class="row" style="background-color: #1dcfef; padding: 10px">
            <div class="col-md-6" style="text-align: left"><span style="font-size: 25px">Settings</span></div>
            <div class="col-md-6" style="text-align: right">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-gear"
                     viewBox="0 0 16 16">
                    <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"/>
                    <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"/>
                </svg>
            </div>
        </div>

        <div class="row" style="background-color: #ffffff; padding: 10px">
            <div><a style="text-decoration: none; font-size: 15px; padding: 5px" href="#" data-bs-toggle="modal"
                    data-bs-target="#ChangeAddress">Change your Address</a></div>
            <div><a style="text-decoration: none; font-size: 15px; padding: 5px" href="#" data-bs-toggle="modal"
                    data-bs-target="#ChangePassword">Change your Password</a></div>
        </div>
    </div>
    <!--Change address modal-->
    <div class="modal fade" id="ChangeAddress" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="ChangeAddressLabel">Modal title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div th:if="${param.error}"
                         class="alert alert-danger text-center"
                         role="alert">
                        <strong style="text-align: center">Something went wrong</strong>
                    </div>
                    <form th:action="@{/change-address}" method="post">
                        <div class="mb-3">
                            <label for="street" class="form-label">Street Address</label>
                            <input type="text" class="form-control" id="street" name="address" required>
                        </div>
                        <div class="mb-3">
                            <label for="city" class="form-label">City</label>
                            <input type="text" class="form-control" id="city" name="city" required>
                        </div>
                        <div class="mb-3">
                            <label for="state" class="form-label">State</label>
                            <input type="text" class="form-control" id="state" name="state" required>
                        </div>
                        <div class="mb-3">
                            <label for="zip" class="form-label">Zip/Postal Code</label>
                            <input type="text" class="form-control" id="zip" name="zip" required>
                        </div>
                        <div class="mb-3">
                            <label for="country" class="form-label">Country</label>
                            <input type="text" class="form-control" id="country" name="country" required>
                        </div>
                        <div class="mb-3">
                            <label for="phoneNumber" class="form-label">Phone Number</label>
                            <input type="text" class="form-control" id="phoneNumber" name="phone_number" required>
                        </div>
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary">Update Address</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!--Change password modal-->
    <div class="modal fade" id="ChangePassword" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="ChangePasswordLabel">Modal title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Error message -->
                    <div th:if="${error}" class="alert alert-danger" role="alert">
                        <span th:text="${error}"></span>
                    </div>

                    <!-- Success message -->
                    <div th:if="${success}" class="alert alert-success" role="alert">
                        <span th:text="${success}"></span>
                    </div>
                    <form th:action="@{/change-password}" method="post">
                            <div class="mb-3">
                                <label for="currentPassword" class="form-label">Current Password</label>
                                <input type="password" class="form-control" id="currentPassword" name="currentPassword" required>
                            </div>
                            <div class="mb-3">
                                <label for="newPassword" class="form-label">New Password</label>
                                <input type="password" class="form-control" id="newPassword" name="newPassword" required>
                            </div>
                            <div class="mb-3">
                                <label for="confirmPassword" class="form-label">Confirm New Password</label>
                                <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required>
                            </div>
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary">Change Password</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Only show if the user has the 'SELLER' role -->
    <div style="margin: 20px" th:if="${isSeller}">
        <div class="row" style="background-color: #5a72f1; padding: 10px">
            <div class="col-md-6" style="text-align: left"><span style="font-size: 25px">Seller Dashboard</span></div>
            <div class="col-md-6" style="text-align: right">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-easel2"
                     viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                          d="M8 0a.5.5 0 0 1 .447.276L8.81 1h4.69A1.5 1.5 0 0 1 15 2.5V11h.5a.5.5 0 0 1 0 1h-2.86l.845 3.379a.5.5 0 0 1-.97.242L12.11 14H3.89l-.405 1.621a.5.5 0 0 1-.97-.242L3.36 12H.5a.5.5 0 0 1 0-1H1V2.5A1.5 1.5 0 0 1 2.5 1h4.691l.362-.724A.5.5 0 0 1 8 0M2 11h12V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5zm9.61 1H4.39l-.25 1h7.72z"/>
                </svg>
            </div>
        </div>

        <div class="row" style="background-color: #ffffff; padding: 10px">
            <div><a style="text-decoration: none; font-size: 15px; padding: 5px" href="/seller/seller_dashboard">Enter
                you seller dashboard</a></div>
        </div>
    </div>

    <!-- Only show if the user has the 'ADMIN' role -->
    <div style="margin: 20px" th:if="${isAdmin}">
        <div class="row" style="background-color: #5a72f1; padding: 10px">
            <div class="col-md-6" style="text-align: left"><span style="font-size: 25px">Admin Dashboard</span></div>
            <div class="col-md-6" style="text-align: right">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-easel2"
                     viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                          d="M8 0a.5.5 0 0 1 .447.276L8.81 1h4.69A1.5 1.5 0 0 1 15 2.5V11h.5a.5.5 0 0 1 0 1h-2.86l.845 3.379a.5.5 0 0 1-.97.242L12.11 14H3.89l-.405 1.621a.5.5 0 0 1-.97-.242L3.36 12H.5a.5.5 0 0 1 0-1H1V2.5A1.5 1.5 0 0 1 2.5 1h4.691l.362-.724A.5.5 0 0 1 8 0M2 11h12V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5zm9.61 1H4.39l-.25 1h7.72z"/>
                </svg>
            </div>
        </div>

        <div class="row" style="background-color: #ffffff; padding: 10px">
            <div><a style="text-decoration: none; font-size: 15px; padding: 5px" href="/admin/admin_dashboard">Enter you
                admin dashboard</a></div>
        </div>
    </div>


</div>


<!-- Bootstrap JS (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ltrjvnR4/Jfpcf4VGESNopAZsN6V3rF4p0ytJXBxjSY8fYBfedMf7cufp04l68uH"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</body>
</html>